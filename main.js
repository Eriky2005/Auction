(()=>{"use strict";var e="";const t=e+"c00d2013557a343fe5d6.png",c=e+"04fac2c823c07504ba22.png",o=e+"eace93b8d6e606bc2507.png",n=e+"72abfa34f780e7684d47.png";var r=document.querySelector(".header__search-input"),a=document.querySelector(".header__search-button");r.addEventListener("input",(function(){var e=document.querySelectorAll(".card"),t=r.value.toLowerCase();e.forEach((function(e){e.querySelector(".card__title").textContent.toLowerCase().includes(t)?e.style.display="block":e.style.display="none"}))})),a.addEventListener("click",(function(e){e.preventDefault(),r.focus()}));var s=document.querySelectorAll(".card__button");s.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".card").dataset.id;e.classList.contains("in-cart")?(e.classList.add("processing"),e.textContent="🔄Обработка...",e.classList.remove("in-cart"),setTimeout((function(){e.classList.remove("processing"),e.classList.remove("button"),e.textContent="Купить",localStorage.removeItem(t)}),2e3)):(e.classList.add("processing"),e.textContent="🔄Обработка...",e.classList.remove("button"),setTimeout((function(){e.classList.remove("processing"),e.classList.add("in-cart"),e.textContent="✔️ В корзине",localStorage.setItem(t,"in-cart")}),2e3))}))})),s.forEach((function(e){var t=e.closest(".card").dataset.id;"in-cart"===localStorage.getItem(t)&&(e.classList.add("in-cart"),e.textContent="✔️ В корзине")}));var i=document.getElementById("popup"),l=document.querySelector(".popup__close"),d=document.querySelector(".popup__title"),u=document.querySelector(".popup__description"),p=document.querySelector(".popup__text-ordinary"),m=document.querySelector(".popup__text-strike"),v=document.getElementById("sliderImage"),g=document.querySelector(".prev"),f=document.querySelector(".next"),L={1:{title:"«Рождение Венеры» Сандро Боттичелли",description:"«Рождение Венеры» — это картина итальянского художника Сандро Боттичелли, которую он завершил приблизительно к 1485 году.",price:"1 000 000 $",oldPrice:"2 000 000 $",images:[t,c,o]},2:{title:"«Тайная вечеря» Леонардо да Винчи",description:"«Тайная вечеря» — это одна из самых известных картин Леонардо да Винчи.",price:"3 000 000 $",oldPrice:"",images:[n,t,t]},3:{title:"«Сотворение Адама» Микеланджело",description:"«Сотворение Адама» — это фреска, написанная Микеланджело.",price:"5 000 000 $",oldPrice:"6 000 000 $",images:[t,t,t]}},y=0,_=null;function S(e){var t=L[e];d.textContent=t.title,u.textContent=t.description,p.textContent=t.price,m.textContent=t.oldPrice,_=e,y=0,v.src=t.images[y],v.alt=t.title,i.classList.add("show"),localStorage.setItem("popupOpen",e)}document.querySelectorAll(".card__title, .card__image").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".card");t&&S(t.dataset.id)}))})),g.addEventListener("click",(function(){var e=L[_];y=y>0?y-1:e.images.length-1,v.src=e.images[y]})),f.addEventListener("click",(function(){var e=L[_];y=y<e.images.length-1?y+1:0,v.src=e.images[y]})),l.addEventListener("click",(function(){i.classList.remove("show"),localStorage.removeItem("popupOpen")})),i.addEventListener("click",(function(e){e.target===i&&(i.classList.remove("show"),localStorage.removeItem("popupOpen"))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(i.classList.remove("show"),localStorage.removeItem("popupOpen"))})),window.addEventListener("load",(function(){var e=localStorage.getItem("popupOpen");e&&S(e)}))})();