(()=>{"use strict";var e="";const t=e+"c00d2013557a343fe5d6.png",c=e+"04fac2c823c07504ba22.png",n=e+"eace93b8d6e606bc2507.png",o=e+"72abfa34f780e7684d47.png",a=e+"6fb625911fab8ed67218.png",r=e+"58526c7795ffc5b8a133.png",s=e+"64cf1c761a745d1b367b.png",i=e+"3f33a9e6f88fd3b4a922.png",d=e+"3a44eadde17c2057a45d.png";var l=document.querySelector(".header__search-input"),u=document.querySelector(".header__search-button");l.addEventListener("input",(function(){var e=document.querySelectorAll(".card"),t=l.value.toLowerCase();e.forEach((function(e){e.querySelector(".card__title").textContent.toLowerCase().includes(t)?e.style.display="block":e.style.display="none"}))})),u.addEventListener("click",(function(e){e.preventDefault(),l.focus()}));var p=document.querySelectorAll(".card__button");p.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".card").dataset.id;e.classList.contains("in-cart")?(e.classList.add("processing"),e.textContent="🔄Обработка...",e.classList.remove("in-cart"),setTimeout((function(){e.classList.remove("processing"),e.classList.remove("button"),e.textContent="Купить",localStorage.removeItem(t)}),2e3)):(e.classList.add("processing"),e.textContent="🔄Обработка...",e.classList.remove("button"),setTimeout((function(){e.classList.remove("processing"),e.classList.add("in-cart"),e.textContent="✔️ В корзине",localStorage.setItem(t,"in-cart")}),2e3))}))})),p.forEach((function(e){var t=e.closest(".card").dataset.id;"in-cart"===localStorage.getItem(t)&&(e.classList.add("in-cart"),e.textContent="✔️ В корзине")}));var m=document.getElementById("popup"),g=document.querySelector(".popup__close"),v=document.querySelector(".popup__title"),f=document.querySelector(".popup__description"),L=document.querySelector(".popup__text-ordinary"),y=document.querySelector(".popup__text-strike"),_=document.getElementById("sliderImage"),S=document.querySelector(".prev"),E=document.querySelector(".next"),b={1:{title:"«Рождение Венеры» Сандро Боттичелли",description:"«Рождение Венеры» — это картина итальянского художника Сандро Боттичелли, которую он завершил приблизительно к 1485 году.",price:"1 000 000 $",oldPrice:"2 000 000 $",images:[t,c,n]},2:{title:"«Тайная вечеря» Леонардо да Винчи",description:"«Тайная вечеря» — это одна из самых известных картин Леонардо да Винчи.",price:"3 000 000 $",oldPrice:"",images:[o,a,r]},3:{title:"«Сотворение Адама» Микеланджело",description:"«Сотворение Адама» — это фреска, написанная Микеланджело.",price:"5 000 000 $",oldPrice:"6 000 000 $",images:[s,i,d]}},h=0,q=null;function x(e){var t=b[e];v.textContent=t.title,f.textContent=t.description,L.textContent=t.price,y.textContent=t.oldPrice,q=e,h=0,_.src=t.images[h],_.alt=t.title,m.classList.add("show"),localStorage.setItem("popupOpen",e)}document.querySelectorAll(".card__title, .card__image").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".card");t&&x(t.dataset.id)}))})),S.addEventListener("click",(function(){var e=b[q];h=h>0?h-1:e.images.length-1,_.src=e.images[h]})),E.addEventListener("click",(function(){var e=b[q];h=h<e.images.length-1?h+1:0,_.src=e.images[h]})),g.addEventListener("click",(function(){m.classList.remove("show"),localStorage.removeItem("popupOpen")})),m.addEventListener("click",(function(e){e.target===m&&(m.classList.remove("show"),localStorage.removeItem("popupOpen"))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(m.classList.remove("show"),localStorage.removeItem("popupOpen"))})),window.addEventListener("load",(function(){var e=localStorage.getItem("popupOpen");e&&x(e)}))})();